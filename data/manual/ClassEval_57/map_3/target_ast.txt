file_input [0,1841]
    classdef [0,1841]
        name: MetricsCalculator2 [6,24]
        suite [25,1841]
            funcdef [30,1841]
                name: map [34,37]
                parameters [37,43]
                    param [38,42]
                        name: data [38,42]
                suite [44,1841]
                    simple_stmt [53,978]
                        string: """         compute the MAP of the input data. MAP is a widely used evaluation index. It is the mean of AP (average precision).         :param data: the data must be a tuple, list 0,1,eg.([1,0,...],5).  In each tuple (actual result,ground truth num),ground truth num is the total ground num.          ([1,0,...],5),         or list of tuple eg. [([1,0,1,...],5),([1,0,...],6),([0,0,...],5)].         1 stands for a correct answer, 0 stands for a wrong answer.         :return: if input data is list, return the recall of this list. if the input data is list of list, return the         average recall on all list. The second return value is a list of precision for each input.         >>> MetricsCalculator2.map(([1, 0, 1, 0], 4))         >>> MetricsCalculator2.map([([1, 0, 1, 0], 4), ([0, 1, 0, 1], 4)])         0.41666666666666663, [0.41666666666666663]         0.3333333333333333, [0.41666666666666663, 0.25]         """ [53,977]
                    funcdef [986,1089]
                        name: compute_precision [990,1007]
                        parameters [1007,1019]
                            param [1008,1018]
                                name: data_point [1008,1018]
                        suite [1020,1089]
                            simple_stmt [1084,1089]
                    funcdef [1098,1195]
                        name: compute_recall [1102,1116]
                        parameters [1116,1128]
                            param [1117,1127]
                                name: data_point [1117,1127]
                        suite [1129,1195]
                            simple_stmt [1190,1195]
                    if_stmt [1204,1841]
                        atom_expr [1207,1230]
                            name: isinstance [1207,1217]
                            trailer [1217,1230]
                                arglist [1218,1229]
                                    name: data [1218,1222]
                                    operator: , [1222,1223]
                                    name: tuple [1224,1229]
                        suite [1231,1380]
                            simple_stmt [1244,1280]
                                expr_stmt [1244,1279]
                                    name: precision [1244,1253]
                                    operator: = [1254,1255]
                                    atom_expr [1256,1279]
                                        name: compute_precision [1256,1273]
                                        trailer [1273,1279]
                                            name: data [1274,1278]
                            simple_stmt [1292,1322]
                                expr_stmt [1292,1321]
                                    name: recall [1292,1298]
                                    operator: = [1299,1300]
                                    atom_expr [1301,1321]
                                        name: compute_recall [1301,1315]
                                        trailer [1315,1321]
                                            name: data [1316,1320]
                            simple_stmt [1334,1358]
                                expr_stmt [1334,1357]
                                    name: ap [1334,1336]
                                    operator: = [1337,1338]
                                    term [1339,1357]
                                        name: precision [1339,1348]
                                        operator: * [1349,1350]
                                        name: recall [1351,1357]
                            simple_stmt [1370,1380]
                                return_stmt [1370,1379]
                                    name: ap [1377,1379]
                        atom_expr [1394,1416]
                            name: isinstance [1394,1404]
                            trailer [1404,1416]
                                arglist [1405,1415]
                                    name: data [1405,1409]
                                    operator: , [1409,1410]
                                    name: list [1411,1415]
                        suite [1417,1841]
                            simple_stmt [1430,1443]
                                expr_stmt [1430,1442]
                                    name: ap_list [1430,1437]
                                    operator: = [1438,1439]
                                    atom [1440,1442]
                            simple_stmt [1455,1475]
                                expr_stmt [1455,1474]
                                    name: precision_list [1455,1469]
                                    operator: = [1470,1471]
                                    atom [1472,1474]
                            for_stmt [1487,1745]
                                name: data_point [1491,1501]
                                name: data [1505,1509]
                                suite [1510,1745]
                                    simple_stmt [1527,1569]
                                        expr_stmt [1527,1568]
                                            name: precision [1527,1536]
                                            operator: = [1537,1538]
                                            atom_expr [1539,1568]
                                                name: compute_precision [1539,1556]
                                                trailer [1556,1568]
                                                    name: data_point [1557,1567]
                                    simple_stmt [1585,1621]
                                        expr_stmt [1585,1620]
                                            name: recall [1585,1591]
                                            operator: = [1592,1593]
                                            atom_expr [1594,1620]
                                                name: compute_recall [1594,1608]
                                                trailer [1608,1620]
                                                    name: data_point [1609,1619]
                                    simple_stmt [1637,1661]
                                        expr_stmt [1637,1660]
                                            name: ap [1637,1639]
                                            operator: = [1640,1641]
                                            term [1642,1660]
                                                name: precision [1642,1651]
                                                operator: * [1652,1653]
                                                name: recall [1654,1660]
                                    simple_stmt [1677,1696]
                                        atom_expr [1677,1695]
                                            name: ap_list [1677,1684]
                                            trailer [1684,1691]
                                                name: append [1685,1691]
                                            trailer [1691,1695]
                                                name: ap [1692,1694]
                                    simple_stmt [1712,1745]
                                        atom_expr [1712,1744]
                                            name: precision_list [1712,1726]
                                            trailer [1726,1733]
                                                name: append [1727,1733]
                                            trailer [1733,1744]
                                                name: precision [1734,1743]
                            simple_stmt [1757,1797]
                                expr_stmt [1757,1796]
                                    name: map_score [1757,1766]
                                    operator: = [1767,1768]
                                    term [1769,1796]
                                        atom_expr [1769,1781]
                                            name: sum [1769,1772]
                                            trailer [1772,1781]
                                                name: ap_list [1773,1780]
                                        operator: / [1782,1783]
                                        atom_expr [1784,1796]
                                            name: len [1784,1787]
                                            trailer [1787,1796]
                                                name: ap_list [1788,1795]
                            return_stmt [1809,1841]
                                testlist_star_expr [1816,1841]
                                    name: map_score [1816,1825]
                                    operator: , [1825,1826]
                                    name: precision_list [1827,1841]