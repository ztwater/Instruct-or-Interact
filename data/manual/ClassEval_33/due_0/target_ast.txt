file_input [0,653]
    classdef [0,653]
        name: DiscountStrategy [6,22]
        suite [23,653]
            funcdef [28,653]
                name: due [32,35]
                parameters [35,41]
                    param [36,40]
                        name: self [36,40]
                suite [42,653]
                    simple_stmt [51,450]
                        string: """         Calculate the final amount to be paid after applying the discount.         :return: float, final amount to be paid         >>> customer = {'name': 'John Doe', 'fidelity': 1200}         >>> cart = [{'product': 'product', 'quantity': 14, 'price': 23.5}]         >>> ds = DiscountStrategy(customer, cart, DiscountStrategy.FidelityPromo)         >>> ds.due()         312.55              """ [51,449]
                    simple_stmt [458,480]
                        expr_stmt [458,479]
                            name: amount [458,464]
                            operator: = [465,466]
                            atom_expr [467,479]
                                name: self [467,471]
                                trailer [471,477]
                                    name: total [472,477]
                                trailer [477,479]
                    simple_stmt [488,501]
                        expr_stmt [488,500]
                            name: discount [488,496]
                            operator: = [497,498]
                            number: 0 [499,500]
                    if_stmt [509,574]
                        atom_expr [512,526]
                            name: self [512,516]
                            trailer [516,526]
                                name: promotion [517,526]
                        suite [527,574]
                            simple_stmt [540,574]
                                expr_stmt [540,573]
                                    name: discount [540,548]
                                    operator: = [549,550]
                                    atom_expr [551,573]
                                        name: self [551,555]
                                        trailer [555,565]
                                            name: promotion [556,565]
                                        trailer [565,573]
                                            name: amount [566,572]
                    simple_stmt [582,626]
                        expr_stmt [582,625]
                            name: final_amount [582,594]
                            operator: = [595,596]
                            arith_expr [597,625]
                                name: amount [597,603]
                                operator: - [604,605]
                                atom [606,625]
                                    term [607,624]
                                        name: amount [607,613]
                                        operator: * [614,615]
                                        name: discount [616,624]
                    return_stmt [634,653]
                        name: final_amount [641,653]